install.packages("caret", dependencies=TRUE)
install.packages("caret")
install.packages("caret")
install.packages("MASS", lib="/usr/lib/R/library")
install.packages("caret", lib="/usr/lib/R/library")
library("caret")
library(caret)
library("caret")
library(caret)
library(callr)
.libPaths()
install.packages("caret", dependencies = TRUE, lib = ""/home/pablesky/R/x86_64-pc-linux-gnu-library/4.2"")
install.packages("caret", dependencies = TRUE, lib = /home/pablesky/R/x86_64-pc-linux-gnu-library/4.2")
install.packages("caret", dependencies = TRUE, lib = /home/pablesky/R/x86_64-pc-linux-gnu-library/4.2)
install.packages("caret", dependencies = TRUE, lib = "/home/pablesky/R/x86_64-pc-linux-gnu-library/4.2")
install.packages("caret", dependencies = TRUE, lib = "/home/pablesky/R/x86_64-pc-linux-gnu-library/4.2")
install.packages("caret", dependencies = TRUE, lib = "/home/pablesky/R/x86_64-pc-linux-gnu-library/4.2")
library(caret)
set.seed(555)
data <- data.frame(
Outcome = seq(1,100,by=1),
Variable = sample(c("Red","Green","Blue"), 100, replace = TRUE)
)
library(caret)
dummy <- dummyVars(" ~ .", data=data)
newdata <- data.frame(predict(dummy, newdata = data))
newdata
print(newdata)
data
View(data)
newdata
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
class(dd[,8])
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(names(dd)[i])
}
}
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(names(dd)[i])
}
}
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(names(dd)[i])
table(dd[,i])
}
}
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(names(dd)[i])
print(table(dd[,i]))
}
}
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(names(dd)[i])
print(table(dd[,i], useNA="ifany"))
}
}
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(i,names(dd)[i])
print(table(dd[,i], useNA="ifany"))
}
}
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(i)
print(names(dd)[i])
print(table(dd[,i], useNA="ifany"))
}
}
c<-dd[,22]
c[c == "Yes"] = 1
c
dd[,22][dd[,22] == "Yes"] = 1
dd[,22][dd[,22] == "No"] = 0
print(class(dd[,22]))
dd[,22]
dd[,22][dd[,22] == "Yes"] = int(1)
c[dd[,22] == "Yes"] = int(1)
c[dd[,22] == "No"] = int(0)
dd[,22][dd[,22] == "Yes"] = 1
dd[,22][dd[,22] == "No"] = 0
dd[,22]<-as.numeric(dd[,22])
print(class(dd[,22]))
print(table(dd[,22]))
dd[,22][dd[,22] == "Yes"] = 1
dd[,22][dd[,22] == "No"] = 0
dd[,22]<-as.numeric(dd[,22])
print(class(dd[,22]))
print(table(dd[,22], useNA="ifany"))
puntosCoordenada<-c("E","ENE","ESE","N","NE","NNE","NNW","NW","S","SE","SSE","SSW","SW","W","WNW","WSW")
puntosCoordenada<-c("E","ENE","ESE","N","NE","NNE","NNW","NW","S","SE","SSE","SSW","SW","W","WNW","WSW")
for (x in puntosCoordenada) {
print(x)
}
indicesACambiar <- c(8, 10, 11)
puntosCoordenada<-c("E","ENE","ESE","N","NE","NNE","NNW","NW","S","SE","SSE","SSW","SW","W","WNW","WSW")
for(i in indicesACambiar) {
index <- 1
for (x in puntosCoordenada) {
d[,i][d[,i] == x] <- index
index <- index + 1
}
d[,i] <- as.numeric(d[,i])
print(class(dd[,i]))
print(table(dd[,i], useNA="ifany"))
}
for(i in indicesACambiar) {
index <- 1
for (x in puntosCoordenada) {
dd[,i][dd[,i] == x] <- index
index <- index + 1
}
dd[,i] <- as.numeric(d[,i])
print(class(dd[,i]))
print(table(dd[,i], useNA="ifany"))
}
for(i in indicesACambiar) {
index <- 1
for (x in puntosCoordenada) {
dd[,i][dd[,i] == x] <- index
index <- index + 1
}
dd[,i] <- as.numeric(dd[,i])
print(class(dd[,i]))
print(table(dd[,i], useNA="ifany"))
}
dummy1 <- dummyVars(" ~ .", data=d[,8])
library(caret)
d<- read.csv("weathertrain.csv")
d<- read.csv("weathertrain.csv")
dd[,22][dd[,22] == "Yes"] = 1
dd[,22][dd[,22] == "Yes"] = 1
dd[,22][dd[,22] == "No"] = 0
dd[,22]<-as.numeric(dd[,22])
print(class(dd[,22]))
print(table(dd[,22], useNA="ifany"))
library(caret)
indicesACambiar <- c(8, 10, 11)
dummy1 <- dummyVars(" ~ .", data=d[,8])
View(dummy1)
View(dummy1)
newdata <- data.frame(predict(dummy, newdata = data))
newdata <- data.frame(predict(dummy1, newdata = d))
newdata <- data.frame(predict(dummy1, newdata = d[,8]))
newdata <- data.frame(predict(dummy1))
newdata <- data.frame(predict(dummy1, newdata=d[,8]))
dummy1 <- dummyVars(" ~ .", data=d)
newdata <- data.frame(predict(dummy1, newdata=d))
newdata <- data.frame(predict(dummy1, newdata=d[3,]))
dummy1 <- dummyVars(" ~ .", data=d[3,])
newdata <- data.frame(predict(dummy1, newdata=d[3,]))
dummy1 <- dummyVars(" ~ .", data=d[3,])
newdata <- data.frame(predict(dummy1, newdata=d[3,]))
x <- d[,2]
d[,2]<-list(NULL)
d[,2]
dummy1 <- dummyVars(" ~ .", data=d[3,])
newdata <- data.frame(predict(dummy1, newdata=d[3,]))
dummy1 <- dummyVars(" ~ .", data=d)
newdata <- data.frame(predict(dummy1, newdata=d))
View(d)
View(d)
d<- read.csv("weathertrain.csv")
d<- read.csv("weathertrain.csv")
d<- read.csv("weathertrain.csv")
d[,22][d[,22] == "Yes"] = 1
d[,22][d[,22] == "Yes"] = 1
d[,22][d[,22] == "No"] = 0
d[,22]<-as.numeric(dd[,22])
print(class(d[,22]))
print(table(d[,22], useNA="ifany"))
library(caret)
indicesACambiar <- c(8, 10, 11)
x <- d[,2]
d[,2]<-list(NULL)
d[,2]
dummy1 <- dummyVars(" ~ .", data=d)
newdata <- data.frame(predict(dummy1, newdata=d))
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
columnTitle <- names(dd)[i]
columnaValores <- dd[,i]
print(columnTitle)
print(class(columnaValores))
print(table(columnaValores, useNA = "ifany"))
}
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
if (class(dd[,i]) == "character") {
print(i)
print(names(dd)[i])
print(table(dd[,i], useNA="ifany"))
}
}
dd[,22][dd[,22] == "Yes"] = 1
dd[,22][dd[,22] == "No"] = 0
dd[,22]<-as.numeric(dd[,22])
print(class(dd[,22]))
print(table(dd[,22], useNA="ifany"))
indicesACambiar <- c(8, 10, 11)
puntosCoordenada<-c("E","ENE","ESE","N","NE","NNE","NNW","NW","S","SE","SSE","SSW","SW","W","WNW","WSW")
for(i in indicesACambiar) {
index <- 1
for (x in puntosCoordenada) {
dd[,i][dd[,i] == x] <- index
index <- index + 1
}
dd[,i] <- as.numeric(dd[,i])
print(class(dd[,i]))
print(table(dd[,i], useNA="ifany"))
}
View(dd)
View(dd)
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
dd[,23][dd[,23] == 1] = "Yes"
dd[,23][dd[,23] == 0] = "No"
print(class(dd[,23]))
print(table(dd[,23], useNA="ifany"))
View(dd)
dd[,6]<-NULL
dd[,6]<-NULL
write.table(dd, "limpio.csv", col.names = FALSE)
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("limpio.csv")
write.table(dd, "limpio.csv")
```{r}
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
dd[,23][dd[,23] == 1] = "Yes"
dd[,23][dd[,23] == 0] = "No"
print(class(dd[,23]))
print(table(dd[,23], useNA="ifany"))
dd[,6]<-NULL
dd[,6]<-NULL
a<-dd
write.table(dd, "limpio.csv")
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("limpio.csv")
View(dd)
write.table(a, sep = ",","limpio.csv")
a<-dd
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
dd[,23][dd[,23] == 1] = "Yes"
dd[,23][dd[,23] == 0] = "No"
print(class(dd[,23]))
print(table(dd[,23], useNA="ifany"))
dd[,6]<-NULL
dd[,6]<-NULL
a<-dd
write.table(a, sep = ",","limpio.csv")
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("limpio.csv")
View(dd)
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
library(class)
fullVariables<-c(3, 4, 5, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19)
aux<-dd[,fullvariables]
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("limpio.csv")
library(class)
fullVariables<-c(3, 4, 5, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19)
aux<-dd[,fullvariables]
fullVariables<-c(3, 4, 5, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19)
aux<-dd[,fullvariables]
aux<-dd[,fullVariables]
dim(aux)
names(aux)
# divide in rows that had missing incomes or not on the target variable to be imputed
aux1 <- aux[!is.na(Ingresos),]
# divide in rows that had missing incomes or not on the target variable to be imputed
aux1 <- aux[!is.na(Ingresos),]
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("limpio.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
columnTitle <- names(dd)[i]
columnaValores <- dd[,i]
print(columnTitle)
print(sum(is.na(columnaValores)))
}
titulos <- table(dd[,2])
columna7 <- c()
for (i in names(titulos)) {
temp <- dd[dd$Location == i,]
if (dim(table(temp[,17],useNA="ifany")) == 1) {
columna7 <- append(columna7, i)
}
}
print(columna7)
columna6 <- c()
for (i in names(titulos)) {
temp <- dd[dd$Location == i,]
if (dim(table(temp[,16],useNA="ifany")) == 1) {
columna6 <- append(columna6, i)
}
}
print(columna6)
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
columnTitle <- names(dd)[i]
columnaValores <- dd[,i]
print(columnTitle)
print(class(columnaValores))
print(table(columnaValores, useNA = "ifany"))
}
dd[,23][dd[,23] == 1] = "Yes"
dd[,23][dd[,23] == 0] = "No"
print(class(dd[,23]))
print(table(dd[,23], useNA="ifany"))
dd[,6]<-NULL
dd[,6]<-NULL
dd[,19]<-NULL
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("weathertrain.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
dd[,6]<-NULL
dd[,6]<-NULL
dd[,16]<-NULL
dd[,16]<-NULL
write.table(dd, sep = ",","limpio.csv")
setwd("/home/pablesky/Documentos/MD-FIB")
dd<- read.csv("limpio.csv")
dimensiones <- dim(dd)
filas <- dimensiones[1]
columnas <- dimensiones[2]
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
columnTitle <- names(dd)[i]
columnaValores <- dd[,i]
print(columnTitle)
print(sum(is.na(columnaValores)))
}
fullVariables<-c(3, 4, 5, 7, 10, 11, 12, 13, 14, 15, 16, 17)
aux<-dd[,fullVariables]
dim(aux)
names(aux)
noNA <- dd[!is.na(dd),]
indexColumnas <- (2:columnas)
for (i in indexColumnas) {
columnTitle <- names(noNA)[i]
columnaValores <- noNA[,i]
print(columnTitle)
print(sum(is.na(columnaValores)))
}
library(class)
fullVariables<-c(3, 4, 5, 7, 10, 11, 12, 13, 14, 15, 16, 17)
aux<-dd[,fullVariables]
noNA <- dd[!is.na(dd),]
fullVariables<-c(3, 4, 5, 7, 10, 11, 12, 13, 14, 15, 16, 17)
aux<-dd[,fullVariables]
noNA <- aux[!is.na(aux),]
dim(aux)
names(aux)
sum(is.na(noNA))
View(noNA)
noNA <- aux[rowSums(is.na(aux)) > 0,]
dim(aux)
names(aux)
sum(is.na(noNA))
fullVariables<-c(3, 4, 5, 7, 10, 11, 12, 13, 14, 15, 16, 17)
aux<-dd[,fullVariables]
noNA <- aux[rowSums(is.na(aux)) == 0,]
dim(aux)
names(aux)
sum(is.na(noNA))
dim(dd)
dim(aux)
dim(aux)
dim(dd)
dim(noNA)
dim(dd)
dim(noNA)
print("hemos dropeado este numero de filas: ", dim(dd)[1] - dim(noNA)[1])
perdidas <- dim(dd)[1] - dim(noNA)[1]
print("hemos dropeado este numero de filas: ", perdidas)
print("hemos dropeado este numero de filas: ", str(perdidas))
print(perdidas)
dd <- readcsv("sinMissings.csv")
dd <- read_csv("sinMissings.csv")
dd <- read.csv("sinMissings.csv")
dd <- read.csv(sinMissings.csv)
setwd("/home/pablesky/Documentos/MD-FIB")
dd <- read.csv(sinMissings.csv)
dd <- read.csv("sinMissings.csv")
View(dd)
